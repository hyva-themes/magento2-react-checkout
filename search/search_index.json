{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Hyv\u00e4 Themes - Hyv\u00e4 Checkout hyva-themes/magento2-hyva-checkout This module contains a ReactApp that can be used to build a Headless Magento checkout. Compatible with Magento 2.3.4 and higher. Note: This module is heavily under construction. We recommend using the develop branch where a new version of the checkout is shaping into. Later, master would be replaced with develop . What does it do? It loads a React Checkout at [store-url]/hyva/checkout . When enabled in hyva_checkout/general/enable it replaces the default checkout. It depends on these two variables in localstorage: - signin_token to the customer section - cartId to the cart section For Hyv\u00e4 Themes of default Magento frontend, hyva-themes/magento2-graphql-tokens is needed to add these tokens to the customerSections .","title":"Home"},{"location":"#hyva-themes-hyva-checkout","text":"","title":"Hyv\u00e4 Themes - Hyv\u00e4 Checkout"},{"location":"#hyva-themesmagento2-hyva-checkout","text":"This module contains a ReactApp that can be used to build a Headless Magento checkout. Compatible with Magento 2.3.4 and higher. Note: This module is heavily under construction. We recommend using the develop branch where a new version of the checkout is shaping into. Later, master would be replaced with develop .","title":"hyva-themes/magento2-hyva-checkout"},{"location":"#what-does-it-do","text":"It loads a React Checkout at [store-url]/hyva/checkout . When enabled in hyva_checkout/general/enable it replaces the default checkout. It depends on these two variables in localstorage: - signin_token to the customer section - cartId to the cart section For Hyv\u00e4 Themes of default Magento frontend, hyva-themes/magento2-graphql-tokens is needed to add these tokens to the customerSections .","title":"What does it do?"},{"location":"at_a_glance/","text":"Hyva Checkout At A Glance Hyva checkout is essentially a one page checkout solution. So the whole checkout looks like below: It contains following sections Email Section Email section has mainly two purpose. It allows us to continue in a guest checkout mode or we can continue checkout after logged-in In the guest checkout mode, which is the default mode, there is an email address field. Upon providing the email address and save, it will attach the email address to the cart. In the logged-in checkout mode, the user will be provided with username and password fields. Upon submit, if the login is successful, the cart is now merged with the customer cart (if any) and then proceed as logged-in checkout. Customer addresses will be listed out in the address sections to pick up in this case. If the login unsuccessful, then it will be treated as guest checkout. the email address provided will be attached to the cart and then proceed as the first case. You can read in depth about email section in the \"Checkout - Email Section\" page. Billing Address Section Billing address section allows to set a billing address to the cart. By default billing address would be treated same as the shipping address. However you can alter this by unchecking the checkbox. This will show the billing address fields and you can fill out the details there. In the case of logged-in checkout, if the customer has billing address options, then it will be listed out as address cards. You can pick any one of the address or create a fresh address. You can read in depth about the billing address section in the \"Checkout - Billing Address\" page. Shipping Address Section Shipping address section allows to set a shipping address to the cart Shipping address section will show the shipping address fields by default. You can provide the shipping address and upon submit, it will save the shipping address and set the same shipping address as the billing address if the billing address set same as the shipping address. In the case of logged-in checkout, if the customer has shipping address options, then it will be listed out as address cards. You can pick any one of the address or create a fresh address. You can read in depth about the billing address section in the \"Checkout - Shipping Address\" page. Shipping Methods Section Based on the cart info, it will be showing the availabe shipping methods as radio option. You can pick up any of the shipping method. upon update, it will set the opted shipping method to the cart Payment Methods Section Baded on the cart info, it will be showing the available payment methods as radio option. You can choose the correct option there. Upon update, it willset the opted payment method to the cart. Cart Items Section Cart items section will show the product involving in the cart. You can update the quantity of cart items from the checkout page itsef. You can also remove a cart item from the checkout page itself. Totals Section Each of the above section will alter the cart data as the user fill out the form. According to the user actions, the totals would change and those changes will be shown in real time in the total section. Place Order Place order button converts the cart to an order and then show the order success page.","title":"Checkout - at a glance"},{"location":"at_a_glance/#hyva-checkout-at-a-glance","text":"Hyva checkout is essentially a one page checkout solution. So the whole checkout looks like below: It contains following sections","title":"Hyva Checkout At A Glance"},{"location":"at_a_glance/#email-section","text":"Email section has mainly two purpose. It allows us to continue in a guest checkout mode or we can continue checkout after logged-in In the guest checkout mode, which is the default mode, there is an email address field. Upon providing the email address and save, it will attach the email address to the cart. In the logged-in checkout mode, the user will be provided with username and password fields. Upon submit, if the login is successful, the cart is now merged with the customer cart (if any) and then proceed as logged-in checkout. Customer addresses will be listed out in the address sections to pick up in this case. If the login unsuccessful, then it will be treated as guest checkout. the email address provided will be attached to the cart and then proceed as the first case. You can read in depth about email section in the \"Checkout - Email Section\" page.","title":"Email Section"},{"location":"at_a_glance/#billing-address-section","text":"Billing address section allows to set a billing address to the cart. By default billing address would be treated same as the shipping address. However you can alter this by unchecking the checkbox. This will show the billing address fields and you can fill out the details there. In the case of logged-in checkout, if the customer has billing address options, then it will be listed out as address cards. You can pick any one of the address or create a fresh address. You can read in depth about the billing address section in the \"Checkout - Billing Address\" page.","title":"Billing Address Section"},{"location":"at_a_glance/#shipping-address-section","text":"Shipping address section allows to set a shipping address to the cart Shipping address section will show the shipping address fields by default. You can provide the shipping address and upon submit, it will save the shipping address and set the same shipping address as the billing address if the billing address set same as the shipping address. In the case of logged-in checkout, if the customer has shipping address options, then it will be listed out as address cards. You can pick any one of the address or create a fresh address. You can read in depth about the billing address section in the \"Checkout - Shipping Address\" page.","title":"Shipping Address Section"},{"location":"at_a_glance/#shipping-methods-section","text":"Based on the cart info, it will be showing the availabe shipping methods as radio option. You can pick up any of the shipping method. upon update, it will set the opted shipping method to the cart","title":"Shipping Methods Section"},{"location":"at_a_glance/#payment-methods-section","text":"Baded on the cart info, it will be showing the available payment methods as radio option. You can choose the correct option there. Upon update, it willset the opted payment method to the cart.","title":"Payment Methods Section"},{"location":"at_a_glance/#cart-items-section","text":"Cart items section will show the product involving in the cart. You can update the quantity of cart items from the checkout page itsef. You can also remove a cart item from the checkout page itself.","title":"Cart Items Section"},{"location":"at_a_glance/#totals-section","text":"Each of the above section will alter the cart data as the user fill out the form. According to the user actions, the totals would change and those changes will be shown in real time in the total section.","title":"Totals Section"},{"location":"at_a_glance/#place-order","text":"Place order button converts the cart to an order and then show the order success page.","title":"Place Order"},{"location":"build/","text":"How can build the Hyv\u00e4-Checkout app In the build process, you are making the react application ready for use as a Magento module. In a normal circumstance, you don't need to do this process. However, if you want to customize the react app in a way you needed, then you need to alter the react components by your own. In this case, knowing the build process is necessary in order to get your changes reflected in the site. Prerequisites It is required that you have the tool csso-cli installed globally. It is using to optimize the CSS file that would be generated in the build process. npm i -g csso-cli How can you build the app You can build the react app with the below command NODE_ENV=production npm run build What happens when we build the react application? Primarily 2 goals here. Create a fully optimized style file that can be included in the Magento site (if needed) Create a fully optimized production build of the react app into a js file that can be included in the Magento site. The console output of the build process is given below: $ NODE_ENV=production npm run build > tailwindcss build src/asset/css/tailwind.css -o public/tailwind.output.css tailwindcss 1.9.6 \ud83d\ude80 Building: src/asset/css/tailwind.css \u2705 Finished in 2.61 s \ud83d\udce6 Size: 18.43KB \ud83d\udcbe Saved to public/tailwind.output.css > npx csso public/tailwind.output.css --output public/styles.css > react-app-rewired build Creating an optimized production build... Compiled successfully. File sizes after gzip: 70.76 KB ../view/frontend/web/js/react-checkout.js > cp public/styles.css ../view/frontend/web/css/styles.css && npm run output-success Done! As you can see above, the very first step is tailwindcss build process. It using the tailwindcss base file located at src/reactapp/src/asset/css/tailwind.css . In this build process, it will be basically doing the purge operation. The resulting file is located at src/reactapp/public/tailwind.output.css . This file is what we are using in the react app if you open it in the development mode. Next step is optimizing the src/reactapp/public/tailwind.output.css file. We are using the tool csso-cli for that. The Optimized css file can be found at src/reactapp/public/styles.css . Next, it will be creating the production build of the react app and the resulting file will be store in the location src/view/frontend/web/js/react-checkout.js . This js file will be included in the DOM by the module and thus it will do the react magic on the page. Finally, the optimized src/reactapp/public/styles.css file will be copied over to the location src/view/frontend/web/css/styles.css . This style file can be included in the page if in case you are using this module out of hyva. To do this, file: src/view/frontend/layout/hyvacheckout_checkout_index.xml , uncomment the following line you would find there. <css src=\"Hyva_Checkout::css/styles.css\" defer=\"defer\"/>","title":"How can build"},{"location":"build/#how-can-build-the-hyva-checkout-app","text":"In the build process, you are making the react application ready for use as a Magento module. In a normal circumstance, you don't need to do this process. However, if you want to customize the react app in a way you needed, then you need to alter the react components by your own. In this case, knowing the build process is necessary in order to get your changes reflected in the site.","title":"How can build the Hyv\u00e4-Checkout app"},{"location":"build/#prerequisites","text":"It is required that you have the tool csso-cli installed globally. It is using to optimize the CSS file that would be generated in the build process. npm i -g csso-cli","title":"Prerequisites"},{"location":"build/#how-can-you-build-the-app","text":"You can build the react app with the below command NODE_ENV=production npm run build","title":"How can you build the app"},{"location":"build/#what-happens-when-we-build-the-react-application","text":"Primarily 2 goals here. Create a fully optimized style file that can be included in the Magento site (if needed) Create a fully optimized production build of the react app into a js file that can be included in the Magento site. The console output of the build process is given below: $ NODE_ENV=production npm run build > tailwindcss build src/asset/css/tailwind.css -o public/tailwind.output.css tailwindcss 1.9.6 \ud83d\ude80 Building: src/asset/css/tailwind.css \u2705 Finished in 2.61 s \ud83d\udce6 Size: 18.43KB \ud83d\udcbe Saved to public/tailwind.output.css > npx csso public/tailwind.output.css --output public/styles.css > react-app-rewired build Creating an optimized production build... Compiled successfully. File sizes after gzip: 70.76 KB ../view/frontend/web/js/react-checkout.js > cp public/styles.css ../view/frontend/web/css/styles.css && npm run output-success Done! As you can see above, the very first step is tailwindcss build process. It using the tailwindcss base file located at src/reactapp/src/asset/css/tailwind.css . In this build process, it will be basically doing the purge operation. The resulting file is located at src/reactapp/public/tailwind.output.css . This file is what we are using in the react app if you open it in the development mode. Next step is optimizing the src/reactapp/public/tailwind.output.css file. We are using the tool csso-cli for that. The Optimized css file can be found at src/reactapp/public/styles.css . Next, it will be creating the production build of the react app and the resulting file will be store in the location src/view/frontend/web/js/react-checkout.js . This js file will be included in the DOM by the module and thus it will do the react magic on the page. Finally, the optimized src/reactapp/public/styles.css file will be copied over to the location src/view/frontend/web/css/styles.css . This style file can be included in the page if in case you are using this module out of hyva. To do this, file: src/view/frontend/layout/hyvacheckout_checkout_index.xml , uncomment the following line you would find there. <css src=\"Hyva_Checkout::css/styles.css\" defer=\"defer\"/>","title":"What happens when we build the react application?"},{"location":"customize/","text":"How To Customize Hyva Checkout Hyva checkout is a Magento 2 module which holds a react app inside it. So when you want to customize the checkout, you need to work with the react app embedded inside the module. Where is the react app You can find the react app at src/reactapp . Setting up react app cd into the react application cd src/reactapp install the packages npm install Configure your Magento 2 backend site. There is two ways you can do this: 3.a - The cleanest approach is here. create .env file in src/reactapp directory and specify your site as shown below REACT_APP_BASE_URL=http://your-m2-site.com 3.b - A hacky trick would be specify your site as your proxy in the package.json . There is already an entry there. Replace it with yours \"proxy\": \"http://your-m2-site.com\", Use only one option above. Don't do both Start App In order to start the application npm start The app is now available at http://localhost:3000 As soon as the react app kick start, it will show a prompt box to input the cart id. Well, without the a valid cart, the checkout page is useless. So provide a valid cart id and then you are good to go.","title":"How to customize"},{"location":"customize/#how-to-customize-hyva-checkout","text":"Hyva checkout is a Magento 2 module which holds a react app inside it. So when you want to customize the checkout, you need to work with the react app embedded inside the module.","title":"How To Customize Hyva Checkout"},{"location":"customize/#where-is-the-react-app","text":"You can find the react app at src/reactapp .","title":"Where is the react app"},{"location":"customize/#setting-up-react-app","text":"cd into the react application cd src/reactapp install the packages npm install Configure your Magento 2 backend site. There is two ways you can do this: 3.a - The cleanest approach is here. create .env file in src/reactapp directory and specify your site as shown below REACT_APP_BASE_URL=http://your-m2-site.com 3.b - A hacky trick would be specify your site as your proxy in the package.json . There is already an entry there. Replace it with yours \"proxy\": \"http://your-m2-site.com\", Use only one option above. Don't do both","title":"Setting up react app"},{"location":"customize/#start-app","text":"In order to start the application npm start The app is now available at http://localhost:3000 As soon as the react app kick start, it will show a prompt box to input the cart id. Well, without the a valid cart, the checkout page is useless. So provide a valid cart id and then you are good to go.","title":"Start App"},{"location":"how_to_use/","text":"How to use this module Hyva-Checkout is essentially a Magento 2 module which provides a fast and extendible checkout experience in a magento site. Since it is a part of Hyva-Themes, it is natural to assume it would only work with hyva-themes. But, the truth is, it is not. You can use this module with any Magento 2 sites. For example, Magento 2 sites using the luma or blank theme Magento 2 sites using a theme that inhertis luma/blank theme Magento 2 sites using the hyva-theme Magento 2 sites that works in headless Magento 2 sites that uses any kind of PWA. Any tweaks necessary if the site is not using hyva-theme Well, the hyva-checkout using the tailwindcss in order to style the checkout page. Hence, it is important to include the checkout page style css file if your site is not using tailwindcss. It is handy to do this job too. To include the css file, all you need to do is uncomment the css file entry in the below file: File: src/view/frontend/layout/hyvacheckout_checkout_index.xml <css src=\"Hyva_Checkout::css/styles.css\" defer=\"defer\"/>","title":"How to use"},{"location":"how_to_use/#how-to-use-this-module","text":"Hyva-Checkout is essentially a Magento 2 module which provides a fast and extendible checkout experience in a magento site. Since it is a part of Hyva-Themes, it is natural to assume it would only work with hyva-themes. But, the truth is, it is not. You can use this module with any Magento 2 sites. For example, Magento 2 sites using the luma or blank theme Magento 2 sites using a theme that inhertis luma/blank theme Magento 2 sites using the hyva-theme Magento 2 sites that works in headless Magento 2 sites that uses any kind of PWA.","title":"How to use this module"},{"location":"how_to_use/#any-tweaks-necessary-if-the-site-is-not-using-hyva-theme","text":"Well, the hyva-checkout using the tailwindcss in order to style the checkout page. Hence, it is important to include the checkout page style css file if your site is not using tailwindcss. It is handy to do this job too. To include the css file, all you need to do is uncomment the css file entry in the below file: File: src/view/frontend/layout/hyvacheckout_checkout_index.xml <css src=\"Hyva_Checkout::css/styles.css\" defer=\"defer\"/>","title":"Any tweaks necessary if the site is not using hyva-theme"},{"location":"i18n/","text":"Internationlisation Hyva checkout supports internationalisation. It uses JSON files to keep your translation keywords. All of your translation JSON files needs to be kept under src/reactapp/public/i18n directory. We already have provided en_US.json file for your reference there. How to add a new language translation support You need to put your translation file inside src/reactapp/public/i18n directory. The format of your file is [locale_code].json . For example, for a german store, it should be de_DE.json . This is all you need to do. How can we translates strings in the component? There is a helper function __() available, similar to the translation facility in Magento templates. You can find this helper function at src/reactapp/src/i18n/__.js . For an example, please see the PlaceOrder component. File: src/reactapp/src/components/PlaceOrder.jsx import React from 'react'; import { __ } from '../i18n'; function PlaceOrder() { return ( <div className=\"flex items-center justify-center h-24\"> <Button variant=\"warning\" big disable={!isValid} click={() => submitHandler(values)} > {__('Place Order')} </Button> </div> ); } export default PlaceOrder; see the import of the function __() and usage. It is that simple. Another job __() function does is, it accepts any number of parameters which will be replaced in the string at the right position. For example, if you want to print the string: My name is Julius Caesar . You can do this: const firstName = 'Julius'; const lastName = 'Caesar'; __('My name is {} {}', firstName, lastName); In the string {} part indicates it is the dynamic part and needs to be replaced with the other parameters passing to the __() . These parameters will be replaced in the {} part in the given order. How it works It all starts with the root element on which react app is acted on. In the hyva-module, the root DOM looks like below: File: src/view/frontend/templates/react-container.phtml <div id=\"react-checkout\" data-language=\"<?= $localeProvider->getLocaleCode() ?>\" data-static_file_path=\"<?= $block->getViewFileUrl('Hyva_Checkout/js') ?>\" > ... </div> As you can see there is the data attribute data-language which will represent the current store locale. For example, if you are viewing a UK store, then it will look like <div id=\"react-checkout\" data-language=\"en_GB\" data-static_file_path=\"https://example.com/static/version1619794305/frontend/Magento/luma/en_GB/Hyva_Checkout/js\" > so en_GB is the locale code here. In this case, we need to keep our translation json file at src/reactapp/public/i18n/en_GB.json . React app will fetch the correct tanslation json file based on this and load it. You also note that there is another data attirbute which is data-static_file_path . This is needed in order to load the translation json file as a static asset in a hyva-theme or in luma-theme. So we copy all the translation json files available in src/reactapp/public/i18n directory into the directory src/view/frontend/web/js/i18n during the app build process and thus these static json files will be used by the production build.","title":"Internationalisation"},{"location":"i18n/#internationlisation","text":"Hyva checkout supports internationalisation. It uses JSON files to keep your translation keywords. All of your translation JSON files needs to be kept under src/reactapp/public/i18n directory. We already have provided en_US.json file for your reference there.","title":"Internationlisation"},{"location":"i18n/#how-to-add-a-new-language-translation-support","text":"You need to put your translation file inside src/reactapp/public/i18n directory. The format of your file is [locale_code].json . For example, for a german store, it should be de_DE.json . This is all you need to do.","title":"How to add a new language translation support"},{"location":"i18n/#how-can-we-translates-strings-in-the-component","text":"There is a helper function __() available, similar to the translation facility in Magento templates. You can find this helper function at src/reactapp/src/i18n/__.js . For an example, please see the PlaceOrder component. File: src/reactapp/src/components/PlaceOrder.jsx import React from 'react'; import { __ } from '../i18n'; function PlaceOrder() { return ( <div className=\"flex items-center justify-center h-24\"> <Button variant=\"warning\" big disable={!isValid} click={() => submitHandler(values)} > {__('Place Order')} </Button> </div> ); } export default PlaceOrder; see the import of the function __() and usage. It is that simple. Another job __() function does is, it accepts any number of parameters which will be replaced in the string at the right position. For example, if you want to print the string: My name is Julius Caesar . You can do this: const firstName = 'Julius'; const lastName = 'Caesar'; __('My name is {} {}', firstName, lastName); In the string {} part indicates it is the dynamic part and needs to be replaced with the other parameters passing to the __() . These parameters will be replaced in the {} part in the given order.","title":"How can we translates strings in the component?"},{"location":"i18n/#how-it-works","text":"It all starts with the root element on which react app is acted on. In the hyva-module, the root DOM looks like below: File: src/view/frontend/templates/react-container.phtml <div id=\"react-checkout\" data-language=\"<?= $localeProvider->getLocaleCode() ?>\" data-static_file_path=\"<?= $block->getViewFileUrl('Hyva_Checkout/js') ?>\" > ... </div> As you can see there is the data attribute data-language which will represent the current store locale. For example, if you are viewing a UK store, then it will look like <div id=\"react-checkout\" data-language=\"en_GB\" data-static_file_path=\"https://example.com/static/version1619794305/frontend/Magento/luma/en_GB/Hyva_Checkout/js\" > so en_GB is the locale code here. In this case, we need to keep our translation json file at src/reactapp/public/i18n/en_GB.json . React app will fetch the correct tanslation json file based on this and load it. You also note that there is another data attirbute which is data-static_file_path . This is needed in order to load the translation json file as a static asset in a hyva-theme or in luma-theme. So we copy all the translation json files available in src/reactapp/public/i18n directory into the directory src/view/frontend/web/js/i18n during the app build process and thus these static json files will be used by the production build.","title":"How it works"},{"location":"installation/","text":"Installation Install via composer composer config repositories.hyva-themes/magento2-hyva-checkout git git@github.com:hyva-themes/magento2-hyva-checkout.git composer require hyva-themes/magento2-hyva-checkout Enable module bin/magento setup:upgrade Configuration In the Magento Backend Configuration: HYVA THEMES->Checkout->General Settings->Enable The configutation path is hyva_checkout/general/enable","title":"Installation"},{"location":"installation/#installation","text":"Install via composer composer config repositories.hyva-themes/magento2-hyva-checkout git git@github.com:hyva-themes/magento2-hyva-checkout.git composer require hyva-themes/magento2-hyva-checkout Enable module bin/magento setup:upgrade","title":"Installation"},{"location":"installation/#configuration","text":"In the Magento Backend Configuration: HYVA THEMES->Checkout->General Settings->Enable The configutation path is hyva_checkout/general/enable","title":"Configuration"}]}